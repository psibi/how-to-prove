%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author: Sibi <sibi@psibi.in>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass{article}
\usepackage{graphicx}
\usepackage{verbatim}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tabularx}
\usepackage{mathtools}
\newcommand{\BigO}[1]{\ensuremath{\operatorname{O}\bigl(#1\bigr)}}
\setlength\parskip{\baselineskip}
\begin{document}
\title{Chapter 4 (Section 4.6)}
\author{Sibi}
\date{\today}
\maketitle

% See here: http://tex.stackexchange.com/a/43009/69223
\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%

% Swap the definition of \abs* and \norm*, so that \abs
% and \norm resizes the size of the brackets, and the 
% starred version does not.
\makeatletter
\let\oldabs\abs
\def\abs{\@ifstar{\oldabs}{\oldabs*}}
%
\let\oldnorm\norm
\def\norm{\@ifstar{\oldnorm}{\oldnorm*}}
\makeatother
\newpage

\section{Problem 1}

\subsection{Solution (a)}
Yes

\subsection{Solution (b)}
No

\subsection{Solution (c)}
Yes

\section{Problem 2}
\subsection{Solution (a)}
No

\subsection{Solution (b)}
$f$ is not a function because $(haskell,a) \in f$ and $(haskell,l) \in
f$.

g is a function.

\subsection{Solution (c)}
$R = \{(J,F), (M,J), (S,M), (F,J)\}$

R is a function.

\section{Solution 3}
\subsection{Solution (a)}
\begin{align*}
  f(a) = b \\
  f(b) = b \\
  f(c) = a
\end{align*}

\subsection{Solution (b)}
$f(2) = 2^2 - 4 = 0$

\subsection{Solution (c)}
$f(\pi) = 3$ \\
$f(-\pi) = -4$

\section{Solution 4}
\subsection{Solution (a)}
$H(Italy) = Rome$

\subsection{Solution (b)}
\begin{align*}
  A = \{1,2,3\} \\
  B = \mathbb{P}(A) \\
  F(X) = A \setminus B \\
  F({1,3}) = \{1,2,3\} \setminus \{1,3\} \\
           = \{2\}
\end{align*}

\subsection{Solution (c)}
$f(2) = (3,1)$

\section{Solution 5}
$L \circ H = \{(n_1, n_2) \in N \times N \mid \exists c \in C((n_1,c)
\in H \land (c,n_2) \in L)\}$ \\
$L \circ H (n) = n$ \\

$H \circ L = \{(c_1, c_2) \in C \times C \mid \exists n \in N((c_1, n)
\in L \land (n, c_2) \in H)\}$ \\
$H \circ L = \{(c_1,c_2) \in C \times C \mid c_2 is the
capital of the country in which c_1 is present. \}$

\section{Solution 6}
\subsection{Solution (a)}
\begin{align*}
  (f \circ g)(x) = f(g(x)) \\
  = f(2x - 1) \\
  = \frac{1}{(2x - 1)^2 + 2} \\
  = \frac{1}{4x^2 + 1 - 4x + 2} \\
  \frac{1}{4x^2 - 4x + 3} 
\end{align*}
\subsection{Solution (b)}
\begin{align*}
  (g \circ f)(x) = g(f(x)) \\
  g(\frac{1}{x^2 + 2}) \\
  \frac{2}{x^2 + 2} - 1 \\
  \frac{-x^2}{x^2 + 2}
\end{align*}

\section{Solution 7}
\subsection{Solution (a)}
Let $c$ be an arbitrary element in $C$. We must show there is a unique
$b \in B$ such that $(c,b) \in f \mid C$.

Existence proof \\
From $C \subseteq A$, it follows that $c \in A$. From $f : A \to B $,
it follows that $f(c) = b$. Since $b \in B$, it follows that $(c,b)
\in C \times B$. So, $(c,b) \in f \cap (C \times B)$.

Uniqueness proof \\
Suppose $(c,b_1) \in f \mid C$ and $(c,b_2) \in f \mid C$. So,
$(c,b_1) \in f$ and $(c,b_2) \in f$. It follows that $f(c) = b_1$ and
$f(c) = b_2$. From the definition of function, it follows that there
can be only one $b \in B$ such that $(c,b) \in f$. Thus, it follows
that $b_1 = b_2$.

Proof of $f(c) = (f \mid c)(c)$ \\
We know that $c \in C$ and $f : A \to B$. From $f$, it follows that
$f(c) = b$. So,
\begin{align*}
  f(c) = b \iff (c,b) \in f \\
  \iff (c,b) \in f \land (c,b) \in C \times B \\
  \iff (c,b) \in f \mid c \\
  \iff (f \mid c)(c) = b 
\end{align*}

\subsection{Solution (b)}
($\Rightarrow$) Suppose $g = f \mid c$. Let $(c,b) \in g$. Since $g = f
\mid c$, it follows that $(c,b) \in f$. So, $g \subseteq f$.
($\Leftarrow$) Suppose $g \subseteq f$. Let $(c,b) \in g$. It follows
that $(c,b) \in f$. And since $c \in C$ and $b \in B$, it follows that
$(c,b) \in C \times B$. So, $(c,b) \in f \cap (C \times B)$. So, $g
\subseteq f \cap (C \times B)$. Let $(c,b) \in f \mid C$. It follows
that $c \in C$ and $b \in B$ and $(c,b) \in f$. We know that $g: C \to
B$. Since $c \in C$, there exists an element in $B$ which is equal to
$g(c)$. Since $g \subseteq f$, it follows that $g(c) = b$. So, $(c,b)
\in g$. Therefore, $f \mid c \subseteq g$.

\subsection{Solution (c)}
From $(b)$, it follows that $g = h\mid Z iff g \subseteq h$. Let
$(a,b)$ be arbitrary element in $g$. It follows that $a \in Z$ and $b
\in R$. Since $Z \subseteq R$, it follows that $a \in R$. From $(a,b)
\in g$, we know that $g(a) = b = 2a + 3$. From the definition of $h$,
it follows that $h(a) = 2a + 3$. So, $(a,2a + 3) \in h$. Since $b = 2a
+ 3$, $(a,b) \in h$. Since $(a,b)$ is arbitrary, it follows that $g
\subseteq h$.

\section{Solution 9}
\subsection{Solution (a)}
Suppose $A \cap B = \emptyset$. Let $a$ be arbitrary element in $A
\cup B$. We have to prove that there is a unique $c \in C$ such that
$(a,c) \in f \cup g$.

Existence. We know that $a \in A \cup B$. Let us consider the cases.
\\ Case 1. $a \in A$. Since $f$ is a function it follows that $\exists c
\in C((a,c) \in f)$.
\\ Case 2. $a \in B$. Since $g$ is a function it follows that $\exists c
\in C((a,c) \in g)$.

Uniqueness. Suppose $(a,c_1) \in f \cup g$ and $(a,c_2) \in f \cup g$.
Let us consider the cases:
\\ Case 1. $(a,c_1) \in f \land (a,c_2) \in f$. Since $f$ is a
function there is a unique $c \in C$ such that $(a,c) \in f$. So, $c_1
= c_2$.
\\ Case 2. $(a,c_1) \in f \land (a,c_2) \in g$ From $(a,c_1) \in f_1$
it follows that $a \in A$. Similarly from $(a,c_2) \in g$, it follows
that $a \in B$. But $A \cap B = \emptyset$, so this case is not
possible.
\\ Case 3. $(a,c_1) \in g \land (a,c_2) \in f$. Same as case 2.
\\ Case 4. $(a,c_1) \in g \land (a,c_2) \in g$. Since $g$ is a
function for $a \in A$, there is a unique $c \in C$ such that $(a,c)
\in g$. So, $c_1 = c_2$.

\subsection{Solution (b)}

Existence. Same as $9(a)$
\\ Uniqueness. Let $(a,c_1) \in f \cup g$ and $(a,c_2) \in f \cup g$.
Let us consider the cases:
\\ Case 1. $(a,c_1) \in f \land (a,c_2) \in f$. Since $f$ is a function
and there is a unique $c \in C$ such that $f(a) = c$, it follows that
$c_1 = c_2$.
\\ Case 2. $(a,c_1) \in f \land (a,c_2) \in g$. We know that $f \mid
(A \cap B) = g \mid (A \cap B)$. We know that $f \mid (A \cap B) = f
\cap ((A \cap B) \times C)$. From $(a,c_1) \in f$ we know that $a \in
A$ and $c_1 \in C$. Similarly, from $(a,c_2) \in g$ we know that $a \in
B$ and $c_2 \in C$. So, $a \in A \cap B$. $(a,c_1) \in (A \cap B)
\times C$. So, $(a,c_1) \in f \mid (A \cap B)$. From $f \mid (A \cap
B) = g \mid (A \cap B)$, it follows that $(a,c_1) \in g$. We also know
that $(a,c_2) \in g$. Since $g$ is a function it follows that $c_1 = c_2$.
\\ Case 3. $(a,c_1) \in g \land (a,c_2) \in f$. Same as case 2.
\\ Case 4. $(a,c_1) \in g \land (a,c_2) \in g$. Same as case 1.

\section{Solution 10}
\subsection{Solution (a)}
Let $b$ be an arbitrary element in $B$. We have to prove that there
exists a unique $c \in C$ such that $(b,c) \in S$.

Existence
We know that $b \in B$. Since $B = Dom(S)$, it follows that there
exists some $c$ such that $(b,c) \in S$.

Uniqueness
Let $(b,c_1) \in S$ and $(b,c_2) \in S$. Since $B = Dom(S) = Ran(R)$
and $b \in B$ so $b \in Ran(R)$. So there exists some $a \in A$ such
that $(a,b) \in R$. Now, $(a,c_1) \in S \circ R$ and $(a,c_2) \in S
\circ R$. Since $S \circ R$ is a function, $c_1 = c_2$.

\subsection{Solution (b)}
\begin{align*}
  A = \{a\} \\
  B = \{b, b_2\} \\
  C = \{c\} \\ \\
  R = \{(a,b_2), (a,b)\} \\
  S = \{(b,c), (b_2, c)\} \\
  S \circ R = \{(a,c)\}
\end{align*}

\section{Solution 11}
\subsection{Solution (a)}
Suppose $S$ reflexive. Let $a$ be arbitrary element in $A$. Let $f(a)
= b$ So $b \in B$. We know that $S$ is reflexive, so $(b,b) \in S$.
So, $(a,a) \in R$. Since $a$ is arbitrary, it follows that $R$ is
reflexive.

\subsection{Solution (b)}
Suppose $S$ is symmetric. Let $a,b$ be arbitrary element on $A$ such
that $(a,b) \in R$. From $(a,b) \in R$, it follows that $(f(a), f(b))
\in S$. Let $f(a) = b_1$ and $f(b) = b_2$. Since $S$ is symmetric, it
follows that $(b_2, b_1) \in S$ or $(f(b), f(a)) \in S$. So, from the
definition of $R$, it follows that $(b,a) \in R$. Since $a$ and $b$
are arbitrary, we can conclude that $R$ is symmetric.

\subsection{Solution (c)}
Suppose $S$ is transitive. Let $a_1, a_2$ and $a_3$ be arbitrary
element on $A$ such that $(a_1, a_2) \in R$ and $(a_2, a_3) \in R$.
From $a_1Ra_2$, it follows that $(f(a_1), f(a_2)) \in S$. Similarly,
$(f(a_2), f(a_3)) \in S$. Since $S$ is transitive, it follows that
$(f(a_1), f(a_2) \in S)$. So, $(a_1, a_3) \in R$. Since $a_1, a_2$ and
$a_3$ are arbitrary it follows that $R$ is transitive.

\section{Solution 12}
\subsection{Solution (a)}
\begin{align*}
  A = \{a,b\} \\
  B = \{x,y\} \\ \\
  R = \{(a,a), (b,b)\} \\
  F = \{(a,x), (b,x)\} \\
  S = \{(x,x)\}
\end{align*}

No, $S$ is not reflexive.

\subsection{Solution (b)}
Suppose $R$ is symmetric. Let $a,b$ be arbitrary element in $B$ such
that $(a,b) \in S$. It follows that $(a,b) \in B \times B$ such that
$\exists v \in A(f(v) = a)$ and $\exists u \in A(f(u) = b)$. Also,
$(v,u) \in R$. Since $R$ is symmetric, $(u,v) \in R$. We know that
$f(u) = b$ and $f(v) = a$. So, $(b,a) \in S$. Since $a$ and $b$ are
arbitrary we can conclude that $S$ is symmetric.

\subsection{Solution (c)}
\begin{align*}
  A = \{x,y,z,o\} \\
  B = \{a,b,c\} \\ \\
  R = \{(x,y), (z,o)\} \\
  S = \{(a,b), (b,c)\} \\
  F = \{(x,a), (y,b), (z,b), (o,c)\}
\end{align*}

\section{Problem 13}
\subsection{Solution (a)}
Suppose $R$ is reflexive. Let $f$ be an arbitrary element in $F$. Let
$a$ be an arbitrary element in $A$. From the definition of $f$, it
follows that $(a,f(a)) \in f$. So, $f(a) \in B$. Since $R$ is
reflexive, so $(f(a),f(a)) \in R$. From the definition of $S$, it
follows that $(f,f) \in S$. Since $f$ is arbitrary, we can conclude
that $S$ is reflexive.
  
\subsection{Solution (b)}
Suppose $R$ is symmetric. Let $(f,g)$ be arbitrary element of $S$, It
follows that $f \in F$. Let $x$ be an arbitrary element in $A$. Then
$f(x) \in Dom(R)$ and $g(x) \in Ran(R)$. Since $R$ is symmetric, so
$(g(x),f(x)) \in R$. From the definition of $S$, it follows that
$(g,f) \in R$. Since $f,g$ are arbitrary, $S$ is symmetric.

\subsection{Solution (c)}
Suppose $R$ is transitive. Let $f,g,h$ be arbitrary element in $F$
such that $(f,g) \in S$ and $(g,h) \in S$. Let $x$ be an arbitrary
element in $A$. From $(f,g) \in S$, it follows that
$(f(x),g(x)) \in R$. Similarly, $(g(x),h(x)) \in R$. Since $R$ is
transitive, $(f(x),h(x)) \in R$. From the definition of $S$, it
follows that $(f,h) \in S$. Since $f,g,h$ are arbitrary we can
conclude that $S$ is transitive.

\section{Solution 14}
\subsection{Solution (a)}
($\Rightarrow$) Let $(x,y)$ be arbitrary element in $f \circ g$. From
the definition of $f \circ g$, it follows that there is some element
$z \in A$ such that $(x,z) \in g$ and $(z,y) \in f$. Since $f$ is a
constant function, $y = a$. So, $(x,a) \in f \circ g$. We know that $x
\in A$, so $(x,a) \in f$. Hence $f \circ g \subseteq f$

($\Leftarrow$) Let $(x,y)$ be arbitrary element in $f$. Since $f$ is a
constant function $y = a$. We know that $x \in A$, so $(x,z) \in g$
for some $z \in A$. We also know $(z,y) \in f$. So, $(x,y) \in f \circ
g$. Hence $f \subseteq f \circ g$.

\subsection{Solution (b)}
We know that $\forall g. (f \circ g) = f$. From universal
instantiation, we get $f \circ h = f$ where $h$ is some constant
function on $A$. So, for arbitrary $a \in A$, $h(a) = b$ for some
$b \in A$. Now, $f(a) = f(h(a)) = f(b)$. Since $a$ is an arbitrary
element and $b$ is some element in $A$, from $f(a) = f(b)$, we can
conclude that $f$ is an constant function.

\section{Solution 15}
\subsection{Solution (a)}
Let $a = 0$. Then $\forall x > a(f(x) = g(x))$. So, $(f,g) \in R$
Wow, this is quite a short proof!

\subsection{Solution (b)}
\subsubsection{Reflexive proof}
Let $f$ be an arbitrary element in $F$. Since $f$ is a function it
follows that $\forall x \in R(f(a) = f(a))$. From the definition of
$R$, it follows that $(f,f) \in R$. Since $F$ is arbitrary we can
conclude that $R$ is reflexive.
\subsubsection{Symmetric proof}
Let $(f,g)$ be an arbitrary element in $R$. It follows that $\exists a
\in R \forall x > a (f(x) = g(x))$. It can also be written as $\exists a
\in R \forall x > a (g(x) = f(x))$. So, $(g,f) \in S$. Since $f$ and
$g$ are arbitrary, we can conclude that $R$ is symmetric.
\subsubsection{Transitive proof}
Let $f,g,h$ be arbitrary element on $F$ such that $(f,g) \in R$ and
$(g,h) \in R$. From $(f,g) \in R$, it follows that $\exists a_1 \in
R \forall x > a_1(f(x) = g(x))$. Similarly, $\exists a_2 \in R \forall y
> a_2 (g(y) = h(y))$. Let us consider the cases:
Case 1. $a_1 = a_2$. Then it follows that  both $x > a$ and $y > a$
point to same range of numbers. So, $f(x) = g(x) = h(x)$. So, $(f,h)
\in R$.
Case 2. $a_1 > a_2$. Since $a_1 > a_2$, it follows that $\forall y >
a_1(g(y) = h(y))$ We already know that $\forall x > a_1(f(x) = g(x))$.
Here both $x > a$ and $y > a$ point to same range of numbers. So,
$f(x) = g(x) = h(x)$. So, $(f,h) \in R$.
Case 3. $a_1 < a_2$. Same as case 2.

\section{Solution 16}
\subsection{Solution (a)}
\subsubsection{Proof of $f \in \BigO{n}$}
Let $a = 3$, $c = 8$. Suppose $x > 3$, then $7x + 3 < 8x$. And we know
that $8x < 8x^2$. So transitively, $7x + 3 < 8x^2$. So, $f \in
\BigO(g)$.

\subsubsection{Proof of $g \notin \BigO{f}$}
Suppose $g \in \BigO{f}$. Then
$\exists a \exists c \forall x > a(x^2 \leq c(7x+3))$. Let $x$ be a
positive integer such that $x > a$ and $x > 10c$. So, $x^2 > 10cx$. We
know that $x^2 < c(7x + 3)$. Also, $c(7x + 3) < (7x + 3x)$. So,
$c(7x + 3) < 10cx$. Transitively, $x^2 < 10xc$. This leads to
contradiction.

\subsection{Solution (b)}
\subsubsection{Reflexive proof}
Let $f$ be an arbitrary element in $F$. We know that $f = f$. So, $f
\in \BigO{f}$. So, $(f,f) \in S$. Since $f$ is an arbitrary element,
we can conclude that $S$ is reflexive.

\subsubsection{Proof of transitive}
Let $f,g,h$ be an arbitrary element in $F$ such that $(f,g) \in S$ and
$(g,h) \in S$. It follows that $f \in \BigO{g}$ and $g \in \BigO{h}$.
From $f \in \BigO{g}$, it follows that $\exists a_1 \exists c_1 \forall
x > a_1(f(x) <= c_1g(x))$. Similarly, $\exists a_2 \exists c_2 \forall
x > a_2(g(x) <= c_2g(x))$. Then, $f(x) <= c_1g(x)$ and $c_1g(x) <=
c_1c_2h(x)$. So, $f(x) <= c_1c_2h(x)$. Hence $(f,h) \in S$.

\subsubsection{Proof that S is not anti-symmetric}
Let $f=x$ and $g=2x$. It follows that $f \in \BigO{g}$. And with $a =
1$ and $c=2$, it follows that $g \in \BigO{f}$. But we know that $f
\neq g$. So, $S$ is not anti-symmetric.

\subsection{Solution (c)}
Suppose $f_1 \in \BigO{g}$ and $f_2 \in \BigO(g)$. It follows that
$\forall x > a_1(|f_1(x)| <= c_1|g(x)|$. Similarly,
$\forall x > a_2(|f_2(x)| <= c_2|g(x)|$. Let $a$ be a maximum of $a_1$
and $a_2$ and $c = |s|c_1 + |t|c_2 + 1$. Then for all $x > a$,
\begin{align*}
  |f(x)| = |sf_1(x) + tf_2(x)|
  <= |sf_1(x)| + |tf_2(x)|
  <= |s|c_1|g(x)| + |t|c_2|g(x)|
  <= (|s|c_1 + |t|c_2)|g(x)|
  <= c|g(x)|
\end{align*}
So, $f \in \BigO{g}$

\section{Solution 17}
\subsection{Solution (a)}
\subsubsection{Reflexive proof}
Let $x$ be an arbitrary element in $A$. Since $g$ is a function, $g(x)
= b$ for some $b \in B$. Since $g(x) = g(x)$, it follows that $(x,x)
\in R$. Since $x$ is arbitrary, we can conclude that $R$ is reflexive.

\subsubsection{Symmetric}
Let $x,y$ be arbitrary element on $A$ such that $(x,y) \in R$. So,
$g(x) = g(y)$. It also follows that $g(x) = g(y)$. So, $(y,x) \in R$.
Since $x$ and $y$ are arbitrary, we can conclude that $R$ is
symmetric.

\subsubsection{Transitive}
Let $x,y,z$ be an arbitrary element on $A$ such that $(x,y) \in R$ and
$(y,z) \in R$. It follows that $g(x) = g(y)$ and $g(y) = g(z)$. It
follows that $g(x) = g(z)$. So, $(x,z) \in R$. Since $x,y$ and $z$ are
arbitrary we can conclude that $R$ is transitive.

\subsection{Solution (b)}
($\Rightarrow$) Let $(a,b)$ be arbitrary element of $R$. Since $R$ is
symmetric, it follows that $g(a) = [a]_R$. Similarly, $g(b) = [b]_R$.
We know that $a \in [a]_R \in [b]_R$. So, $[a]_R = [b]_R$. So, $g(a) =
g(b)$. So, $(a,b) \in \{(x,y) \in A \times A \mid g(x) = g(y)\}$. So,
$R \subseteq \{(x,y) \in A \times A \mid g(x) = g(y)\}$.

($\Leftarrow$) Let $(a,b) \in \{(x,y) \in A \times A \mid g(x) =
g(y)\}$. So, $g(a) = g(b)$. So, $g(a) = [a]_R = g(b) = [b]_R$. So,
$aRb$. Since $a,b$ are arbitrary, $\{(x,y) \in A \times A \mid g(x) =
g(y)\} \subseteq R$.

\section{Solution 18}
\subsection{Solution (a)}
Let $h = \{(X,y) \in A/R \times B \mid \exists x \in X(f(x) = y)\}$.
We need to prove that $h$ is a function.
\subsubsection{Existence proof}
Let $X$ be an arbitrary element in $A/R$. It follows that $\exists x
\in X$ such that $f(x) = y$. So, $(X,y) \in h$.

\subsubsection{Uniqueness proof}
Let $(X,y) \in h$ and $(X,z) \in h$. From $(X,y) \in h$, it follows
that $\exists x \in X(f(x) = y)$. Similarly, $\exists a \in X(f(a) =
z)$. Since $R$ is equivalent, it follows that $xRa$ and $f(y) = f(a)$.
So, $y = z$.

So, $h$ is a function.

\subsubsection{Uniqueness proof of $h$}
Suppose there exists another function $g$ such that $\forall x \in
A(g([x]_R) = f(x)$. Let $(X,y)$ be arbitrary element of $g$. Since $X
\in A/R$, it follows that $\exists x \in X$ such that $[x]_R = X$ and
$f(x) = y$. Then $(X,y) \in h$. So, $g \subseteq h$. Similarly, 
$h \subseteq g$. Hence $h$ is unique.

\subsection{Solution (b)}
Let $x,y$ be an arbitrary element of $A$. Suppose $xRy$. Since $x \in
A$, it follows that $h([x]_R) = f(x)$. Similarly, $h([y]_R) = f(y)$.
From $xRy$, it follows that $[x]_R = [y]_R$. So, $h([x]_R) = h([y]_R)
= f(x) = f(y)$. So, $f(x) = f(y)$. Since $x$ and $y$ are arbitrary we
can conclude that $f$ is compatible with $R$.



\end{document}
